<body class="<%= params[:controller] %> <%= params[:action] %>">

  <% if @product.errors.any? %>
    <ul>
      <% @product.errors.messages.values.each do |msg| %>
        <%msg.each do  |m| %>
          <li><%= m %></li>
        <% end %>
      <% end %>
    </ul>
  <% end %>

  <%= form_for(@product) do |f| %>

    <h2 class="info-title">Modificar Producto</h2>

    <div class="form-container">

      <div class="form-inside-style">
        <%= f.label :código_anterior %>
        <%= f.text_field :former_code, value: @product.former_code, class: 'form-inside' %>
      </div>

      <div class="form-inside-style hidden">
        <%= f.label :código_único %>
        <%= f.text_field :unique_code, value: @product.unique_code, class: 'form-inside' %>
      </div>

      <div class="form-inside-style">
        <%= f.label :descripción %>
        <%= f.text_field :description, value: @product.description, class: 'form-inside', size: 65 %>
      </div>

      <div class="form-inside-style">
        <%= f.label :tipo_de_producto %>
        <%= f.text_field :product_type, value: @product.product_type, class: 'form-inside' %>
      </div>

      <div class="form-inside-style field hidden">
        <%= f.label :línea_de_producto %>
        <%= f.select :line, options_for_select(product_line_options, selected: @product.line) %>)
      </div>

      <div class="form-inside-style">
        <%= f.label :clasificación %>
        <%= f.select :classification, options_for_select([['especial']], selected: @product.classification)  %>
      </div>

      <h3>Medidas</h3>

      <h4>Medidas Externas</h4>
      <div id="outer" class="outer">

        <div class="form-inside-style">
          <%= f.label :largo %>
          <%= f.text_field :outer_length, value: @product.outer_length, class: 'form-inside' %>
        </div>

        <div class="form-inside-style">
          <%= f.label :ancho %>
          <%= f.text_field :outer_width, value: @product.outer_width, class: 'form-inside' %>
        </div>

        <div class="form-inside-style">
          <%= f.label :alto %>
          <%= f.text_field :outer_height, value: @product.outer_height, class: 'form-inside' %>
        </div>
    </div>

      <h4>Medidas Internas</h4>
      <div id="inner" class="inner">

        <div class="form-inside-style">
          <%= f.label :largo %>
          <%= f.text_field :inner_length, value: @product.inner_length, class: 'form-inside' %>
        </div>

        <div class="form-inside-style">
          <%= f.label :ancho %>
          <%= f.text_field :inner_width, value: @product.inner_width, class: 'form-inside' %>
        </div>

        <div class="form-inside-style">
          <%= f.label :alto %>
          <%= f.text_field :inner_height, value: @product.inner_height, class: 'form-inside' %>
        </div>
      </div>

        <div class="bolsa">

          <div class="form-inside-style">
            <%= f.label :largo %>
            <%= f.text_field :bag_length, value: @product.bag_length, class: 'form-inside' %>
            cm
          </div>

          <div class="form-inside-style">
            <%= f.label :fuelle %>
            <%= f.text_field :bag_width, value: @product.bag_width, class: 'form-inside' %>
            cm
          </div>

          <div class="form-inside-style">
            <%= f.label :alto %>
            <%= f.text_field :bag_height, value: @product.bag_height, class: 'form-inside' %>
            cm
          </div>
      </div>

        <div class="exhibidor">

          <div class="form-inside-style">
            <%= f.label :altura %>
            <%= f.text_field :exhibitor_height, value: @product.exhibitor_height, class: 'form-inside' %>
            cm
          </div>

          <div class="form-inside-style">
            <%= f.label :cantidad_de_charolas %>
            <%= f.text_field :tray_quantity, value: @product.tray_quantity, class: 'form-inside' %>
          </div>

          <div class="form-inside-style">
            <%= f.label :largo_de_la_charola %>
            <%= f.text_field :tray_length, value: @product.tray_length, class: 'form-inside' %>
            cm
          </div>

          <div class="form-inside-style">
            <%= f.label :ancho_de_la_charola %>
            <%= f.text_field :tray_width, value: @product.tray_width, class: 'form-inside' %>
            cm
          </div>

          <div class="form-inside-style">
            <%= f.label :número_de_divisiones_de_las_charolas %>
            <%= f.text_field :tray_divisions, value: @product.tray_divisions, class: 'form-inside' %>
          </div>
      </div>

      <h3>Material y Resistencia</h3>

      <div class="form-inside-style">
        <%= f.label :material %>
        <%= f.select :main_material, options_for_select(main_material_options, selected: @product.main_material) %>
      </div>

      <div class="form-inside-style">
        <%= f.label :resistencia_del_material %>
        <%= f.select :resistance_main_material, options_for_select(main_resistance_options, selected: @product.resistance_main_material) %>
      </div>

      <h3>Color e impresión</h3>

      <div class="impresssion-div">
        <div class="form-inside-style">
          <% @value = false %>
          <% if @product.impression == 'si' %>
            <% @value = true %>
          <% end %>
          <%= f.label :¿lleva_impresión? %>
          <%= label :impression, 'Sí' %>
          <p class="hidden" id="impression_value"><%=@product.impression%></p>
          <%= f.radio_button :impression, 'si', value: true, checked: @value %>
          <%= label :impression, 'No' %>
          <%= f.radio_button :impression, 'no', value: false, checked: !@value %>
        </div>
      </div>

      <div class="impresssion-second-div">

      <div class="form-inside-style">
        <%= f.label :color_exterior_del_cartón %>
        <%= f.select :exterior_material_color, options_for_select(exterior_color_options, selected: @product.exterior_material_color) %>
      </div>

      <div class="form-inside-style">
        <%= f.label :color_interior_del_cartón %>
        <%= f.select :interior_material_color, options_for_select(interior_color_options, selected: @product.interior_material_color) %>
      </div>

      <div class="form-inside-style">
        <%= f.label :color_o_diseño %>
        <%= f.text_field :exterior_color_or_design, class: 'form-inside' %>
      </div>

      <div class="form-inside-style">
        <%= f.label :tipo_de_armado %>
        <%= f.text_field :design_type, value: @product.design_like, class: 'form-inside' %>
      </div>

      <div class="form-inside-style">
        <%= f.label :número_de_piezas %>
        <%= f.number_field :number_of_pieces, class: 'form-inside' %>
      </div>

      <div class="form-inside-style">
        <%= f.label :kit_de_accesorios %>
        <%= f.text_field :accesories_kit, class: 'form-inside' %>
      </div>
    </div>

    <h3>Otros</h3>

    <div class="otros">

      <div class="form-inside-style hidden">
        <%= f.label '¿producto activo?' %>
        <%= f.text_field :current, value: true, class: 'form-inside' %>
      </div>

      <div class="form-inside-style">
        <%= f.label 'Código de producto SAT' %>
        <%= f.text_field :sat_key_id, class: 'form-inside' %>
      </div>

      <div class="form-inside-style">
        <%= f.label 'Unidad SAT' %>
        <%= f.text_field :sat_unit_key_id, class: 'form-inside' %>
      </div>

      <div class="form-inside-style">
        <%= f.label :unidad %>
        <%= f.text_field :unit, class: 'form-inside' %>
      </div>

      <div class="form-inside-style">
        <%= f.label :anaquel %>
        <%= f.text_field :rack, class: 'form-inside' %>
      </div>

      <div class="form-inside-style">
        <%= f.label :nivel %>
        <%= f.text_field :level, class: 'form-inside' %>
      </div>

      <div class="form-inside-style">
        <%= f.label :empresa %>
        <%= f.select :business_unit_id, options_for_select(current_user.store.business_unit.business_group.business_units.where.not(name: "").collect{|bu| [bu.name, bu.id]}, selected: @product.business_unit_id) %>
      </div>

      <div class="form-inside-style">
        <%= f.label :proveedor %>
        <%= f.select :supplier_id, options_for_select(suppliers, selected: @product.supplier_id) %>
      </div>

      <div class="form-inside-style">
        <%= f.label :piezas_por_paquete %>
        <%= f.number_field :pieces_per_package, min: 0, max: 200, class: 'form-inside' %>
      </div>

      <% if current_user.role.name == 'product-admin' || current_user.role.name == 'product-staff' %>
        <div class="form-inside-style">
          <%= f.label :almacén %>
          <%= f.select :warehouse_id, options_for_select(current_user.store.business_unit.business_group.warehouses.collect{|w| [w.name, w.id]}, selected: @product.warehouse_id) %>
        </div>
      <% else %>
        <div class="form-inside-style">
          <%= f.label :almacén %>
          <%= f.select :warehouse_id, options_for_select(current_user.store.business_unit.warehouses.collect{|w| [w.name, w.id]}, selected: @product.warehouse_id) %>
        </div>
      <% end %>

      <div class="form-inside-style">
        <%= f.label :imágenes %><br>
        <%= f.file_field :image, multiple: true %>
      </div>
    </div>

      <div class="button-container">
        <div class="actions">
          <%= f.submit :Confirmar, class: 'main-button button-margin' %>
        </div>
      </div>

    </div>

  <% end %>
</body>
